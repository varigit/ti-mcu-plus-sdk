<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM62x MCU+ SDK: MCRC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM62x MCU+ SDK
   &#160;<span id="projectnumber">08.06.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('SDL_MCRC_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MCRC </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md471">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md472">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md473">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md474">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md475">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md476">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_sdl_mcrc"></a></p>
<p>MCRC module is used to perform CRC (Cyclic Redundancy check) to verify integrity of a memory system. The MCRC controller is used to calculate the signature for a set of data and then compare the calculated signature value against a predetermined good signature value. MCRC controller provides four channels to perform CRC calculation on multiple memories.</p>
<h1><a class="anchor" id="autotoc_md471"></a>
Features Supported</h1>
<p>Each MCRC instance supports 4 channels. Each channel can be configured to operate in one of 3 modes</p>
<ul>
<li>Auto Mode: In this mode, the MCRC controller, in conjunction with DMA controller, can perform CRC totally without CPU intervention.</li>
<li>Full Mode: In this mode, the CPU does the data patterns transfer and signature verification all by itself. CPU performs data patterns transfer by reading data from the memory system to the PSA signature register.</li>
<li>Semi Mode: In this mode, DMA controller is used to perform data patterns transfer and signature verification.</li>
</ul>
<p>Timeout is configured to generate timeout interrupt to ensure that the memory system is examined with predefined time frame and no loss of incoming data. A 24-bit counter per CRC channel is configured.</p>
<p>The module supports below API's for the application</p>
<ul>
<li>API to support and configure Full, Semi, and Auto MCRC mode</li>
<li>API to support readback of static registers</li>
<li>API to support readback of written configuration</li>
<li>API to support interrupt configuration</li>
</ul>
<h1><a class="anchor" id="autotoc_md472"></a>
SysConfig Features</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md473"></a>
Features NOT Supported</h1>
<ul>
<li>No DMA mode examples for M4</li>
</ul>
<h1><a class="anchor" id="autotoc_md474"></a>
Important Usage Guidelines</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md475"></a>
Example Usage</h1>
<p>The following shows an example of SDL MCRC API usage by the application for Full CPU mode.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__mcrc_8h.html">sdl/sdl_mcrc.h</a>&gt;</span></div>
</div><!-- fragment --><p>Initialize an MCRC instance and channel</p>
<p>SDL_MCRC_InstType instance = MCU_MCRC64_0;</p>
<div class="fragment"><div class="line">\cond SOC_AM62AX</div>
<div class="line"><a class="code" href="group__SDL__MCRC__API.html#ga5e77dd123e1ffb3b90e931cf6aa87259">SDL_MCRC_InstType</a> instance = <a class="code" href="group__SDL__MCRC__API.html#gga5e77dd123e1ffb3b90e931cf6aa87259acd1525966c7a0f528501cefe1a75f3ed">MCU_MCRC64_0</a>;</div>
<div class="line">\endcond</div>
<div class="line"> </div>
<div class="line">\code{.c}</div>
<div class="line">result = <a class="code" href="group__SDL__MCRC__API.html#gaa3cc6df99410829b1c68fd78a361c7ac">SDL_MCRC_init</a>(instance, <a class="code" href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a>, MCRC_DEF_WATCHDOG_PRELOAD, MCRC_DEF_BLOCK_PRELOAD);</div>
</div><!-- fragment --><p>Reset and configure the MCRC channel </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__MCRC__API.html#ga700894b8f06c2cee6001155383484d42">SDL_MCRC_channelReset</a>(instance, <a class="code" href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a>);</div>
<div class="line"><a class="code" href="group__SDL__MCRC__API.html#ga14bb7f799305f68eeb6b845652e98c41">SDL_MCRC_config</a>(instance, <a class="code" href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a>, MCRC_DEF_PATTERN_COUNT, MCRC_DEF_SECTOR_COUNT, <a class="code" href="group__SDL__MCRC__API.html#ga17450ee682e27fc981ec54be837cf359">SDL_MCRC_OPERATION_MODE_FULLCPU</a>);</div>
</div><!-- fragment --><p>Verify the configuration </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__MCRC__API.html#ga3b09623ee10a03eb0f5fe711c5508ff8">SDL_MCRC_verifyConfig</a>(instance, <a class="code" href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a>, MCRC_DEF_PATTERN_COUNT, MCRC_DEF_SECTOR_COUNT, <a class="code" href="group__SDL__MCRC__API.html#ga17450ee682e27fc981ec54be837cf359">SDL_MCRC_OPERATION_MODE_FULLCPU</a>);</div>
<div class="line"><span class="keywordflow">if</span> (result == SDL_PASS)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n Configurationn verified&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Compute the signature </p><div class="fragment"><div class="line">SDL_MCRC_dataConfig_t mcrcData;</div>
<div class="line">        <a class="code" href="structSDL__MCRC__Signature__t.html">SDL_MCRC_Signature_t</a>  sectSignVal;</div>
<div class="line"> </div>
<div class="line">        mcrcData.pMCRCData      = (uint32_t *)testParams[testCase].sourceMemory;</div>
<div class="line">        mcrcData.size           = testParams[testCase].dataSize;</div>
<div class="line">        mcrcData.dataBitSize    = <a class="code" href="group__SDL__MCRC__API.html#gga070a670f3e15e24adec019f4658d785ca3eda74c8ede6f33779241b6c1a2874e0">SDL_MCRC_DATA_32_BIT</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Pass the data to MCRC and get the signature */</span></div>
<div class="line">        result = <a class="code" href="group__SDL__MCRC__API.html#ga470631c9b6dab5b71e4b39d53ac40e69">SDL_MCRC_computeSignCPUmode</a>(instance, <a class="code" href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a>, &amp;mcrcData, &amp;sectSignVal);</div>
</div><!-- fragment --><p>Check the calculated signature </p><div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Check if the generated MCRC signature value</span></div>
<div class="line"><span class="comment"> * matches with the reference signaure vaule</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordflow">if</span> ((sectSignVal.<a class="code" href="structSDL__MCRC__Signature__t.html#a86ec4de6ec996bead68ca4ffbd3003b0">regH</a> == testParams[testCase].mcrcSignHigh) &amp;&amp;</div>
<div class="line">    (sectSignVal.<a class="code" href="structSDL__MCRC__Signature__t.html#a0cd47488950841c6cc33fdb459e3bcd4">regL</a> == testParams[testCase].mcrcSignLow))</div>
<div class="line">{</div>
<div class="line">    result = SDL_PASS;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    result = SDL_EFAIL;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md476"></a>
API</h1>
<p><a class="el" href="group__SDL__MCRC__MODULE.html">APIs for SDL MCRC</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga700894b8f06c2cee6001155383484d42"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga700894b8f06c2cee6001155383484d42">SDL_MCRC_channelReset</a></div><div class="ttdeci">int32_t SDL_MCRC_channelReset(SDL_MCRC_InstType instance, SDL_MCRC_Channel_t channel)</div><div class="ttdoc">This API is used to reset the MCRC channel.</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga14bb7f799305f68eeb6b845652e98c41"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga14bb7f799305f68eeb6b845652e98c41">SDL_MCRC_config</a></div><div class="ttdeci">int32_t SDL_MCRC_config(SDL_MCRC_InstType instance, SDL_MCRC_Channel_t channel, uint32_t patternCount, uint32_t sectorCount, SDL_MCRC_ModeType mode)</div><div class="ttdoc">This API will configure MCRC mode, pattern and sector count for given channel.</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga5e77dd123e1ffb3b90e931cf6aa87259"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga5e77dd123e1ffb3b90e931cf6aa87259">SDL_MCRC_InstType</a></div><div class="ttdeci">SDL_MCRC_InstType</div><div class="ttdoc">MCRC Instance supported.</div><div class="ttdef"><b>Definition:</b> sdl_mcrc_soc.h:60</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_gga5e77dd123e1ffb3b90e931cf6aa87259acd1525966c7a0f528501cefe1a75f3ed"><div class="ttname"><a href="group__SDL__MCRC__API.html#gga5e77dd123e1ffb3b90e931cf6aa87259acd1525966c7a0f528501cefe1a75f3ed">MCU_MCRC64_0</a></div><div class="ttdeci">@ MCU_MCRC64_0</div><div class="ttdef"><b>Definition:</b> sdl_mcrc_soc.h:61</div></div>
<div class="ttc" id="asdl__mcrc_8h_html"><div class="ttname"><a href="sdl__mcrc_8h.html">sdl_mcrc.h</a></div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_gga070a670f3e15e24adec019f4658d785ca3eda74c8ede6f33779241b6c1a2874e0"><div class="ttname"><a href="group__SDL__MCRC__API.html#gga070a670f3e15e24adec019f4658d785ca3eda74c8ede6f33779241b6c1a2874e0">SDL_MCRC_DATA_32_BIT</a></div><div class="ttdeci">@ SDL_MCRC_DATA_32_BIT</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:167</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_gab5ea04c139cea73db735fe78336972e3"><div class="ttname"><a href="group__SDL__MCRC__API.html#gab5ea04c139cea73db735fe78336972e3">SDL_MCRC_CHANNEL_1</a></div><div class="ttdeci">#define SDL_MCRC_CHANNEL_1</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:148</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_gaa3cc6df99410829b1c68fd78a361c7ac"><div class="ttname"><a href="group__SDL__MCRC__API.html#gaa3cc6df99410829b1c68fd78a361c7ac">SDL_MCRC_init</a></div><div class="ttdeci">int32_t SDL_MCRC_init(SDL_MCRC_InstType instance, SDL_MCRC_Channel_t channel, uint32_t watchdogPreload, uint32_t blockPreload)</div><div class="ttdoc">Initialize MCRC channel and will configure watchdog and block preload value for given channel.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_gafe348ab5badd2c15118f95e21bb192c6"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a></div><div class="ttdeci">#define DebugP_log(format,...)</div><div class="ttdoc">Function to log a string to the enabled console.</div><div class="ttdef"><b>Definition:</b> DebugP.h:211</div></div>
<div class="ttc" id="astructSDL__MCRC__Signature__t_html_a86ec4de6ec996bead68ca4ffbd3003b0"><div class="ttname"><a href="structSDL__MCRC__Signature__t.html#a86ec4de6ec996bead68ca4ffbd3003b0">SDL_MCRC_Signature_t::regH</a></div><div class="ttdeci">uint32_t regH</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:182</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga17450ee682e27fc981ec54be837cf359"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga17450ee682e27fc981ec54be837cf359">SDL_MCRC_OPERATION_MODE_FULLCPU</a></div><div class="ttdeci">#define SDL_MCRC_OPERATION_MODE_FULLCPU</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:134</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga470631c9b6dab5b71e4b39d53ac40e69"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga470631c9b6dab5b71e4b39d53ac40e69">SDL_MCRC_computeSignCPUmode</a></div><div class="ttdeci">int32_t SDL_MCRC_computeSignCPUmode(SDL_MCRC_InstType instance, SDL_MCRC_Channel_t channel, const SDL_MCRC_DataConfig_t *pDataConfig, SDL_MCRC_Signature_t *sectSignVal)</div><div class="ttdoc">This API is used to compute the signature for CPU-only mode and it check if the generated MCRC signat...</div></div>
<div class="ttc" id="astructSDL__MCRC__Signature__t_html"><div class="ttname"><a href="structSDL__MCRC__Signature__t.html">SDL_MCRC_Signature_t</a></div><div class="ttdoc">Structure for accessing MCRC register data which are 64 bit wide.</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:179</div></div>
<div class="ttc" id="agroup__SDL__MCRC__API_html_ga3b09623ee10a03eb0f5fe711c5508ff8"><div class="ttname"><a href="group__SDL__MCRC__API.html#ga3b09623ee10a03eb0f5fe711c5508ff8">SDL_MCRC_verifyConfig</a></div><div class="ttdeci">int32_t SDL_MCRC_verifyConfig(SDL_MCRC_InstType instance, SDL_MCRC_Channel_t channel, uint32_t patternCount, uint32_t sectorCount, SDL_MCRC_ModeType mode)</div><div class="ttdoc">This API will verify the configure of MCRC mode, pattern and sector count for given channel.</div></div>
<div class="ttc" id="astructSDL__MCRC__Signature__t_html_a0cd47488950841c6cc33fdb459e3bcd4"><div class="ttname"><a href="structSDL__MCRC__Signature__t.html#a0cd47488950841c6cc33fdb459e3bcd4">SDL_MCRC_Signature_t::regL</a></div><div class="ttdeci">uint32_t regL</div><div class="ttdef"><b>Definition:</b> mcrc/v0/sdl_mcrc.h:180</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
