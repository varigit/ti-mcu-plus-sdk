<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM62x MCU+ SDK: STOG</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM62x MCU+ SDK
   &#160;<span id="projectnumber">08.06.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('SDL_STOG_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">STOG </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md512">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md513">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md514">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md515">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md516">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md517">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_sdl_stog"></a></p>
<p>The Interconnect Isolation Gasket is a TI proprietary IP that is used to prevent a hang caused by target, which can hold up the interconnect and terminate such a transaction safely. It tracks transactions, and times out if outstanding too long, and reports the error via interrupt that can be monitored.</p>
<p>The TOGs help to achieve Freedom From Interference by monitoring the various VBUS transactions and providing a way to detect any errors, and helping to avoid the bus to be locked up due to a transaction error.</p>
<h1><a class="anchor" id="autotoc_md512"></a>
Features Supported</h1>
<p>These TOGs have the following functions, to avoid these concerns:</p>
<ol type="1">
<li>Monitors various VBUS transaction and provide a way to detect errors</li>
<li>Helps avoid the bus to be locked up due to a transaction in error.</li>
<li>Tracks outstanding transactions and allows for timeout/recovery.</li>
</ol>
<p>Each of the Timeout gaskets can be programmed to a specific timeout and any transaction exceeding the timeout will result in abort of the transaction. This will also result in an error event triggered through ESM, which will in turn can be programmed to interrupt the CPU.</p>
<p>In addition the timeout gasket can be stopped, started and reset at anytime.</p>
<p>Safety diagnostics are provided for TOG module through APIâ€™s</p>
<ol type="1">
<li>Configure the TOG</li>
<li>Read the static registers</li>
<li>Verify the written configuration</li>
</ol>
<h1><a class="anchor" id="autotoc_md513"></a>
SysConfig Features</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md514"></a>
Features NOT Supported</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md515"></a>
Important Usage Guidelines</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md516"></a>
Example Usage</h1>
<p>The following shows an example of SDL TOG API usage by the application to set up the TOG for monitoring for events. Events can be monitored by enabling the events in the associated ESM instance.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdlr__tog_8h.html">sdl/sdlr_tog.h</a>&gt;</span></div>
</div><!-- fragment --><p>Configure a TOG instance with a timeout value</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line"><a class="code" href="structSDL__TOG__config.html">SDL_TOG_config</a> cfg;</div>
<div class="line">int32_t status;</div>
<div class="line"> </div>
<div class="line">cfg.<a class="code" href="structSDL__TOG__config.html#a15633cad0bd031782999808989113a17">timeoutVal</a> = TOG_TEST_TIMEOUTVAL;</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#ga3bbb563689b65df2d086f2afbcadd629">SDL_TOG_init</a>(instance, &amp;cfg);</div>
<div class="line"><span class="keywordflow">if</span> (status != SDL_PASS)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// init failed</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Enable the TOG interrupts</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line">int32_t status;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Enable interrupts */</span></div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#gad6bf3502b3b7a30d45c7f5ea8e97751c">SDL_TOG_setIntrEnable</a>(instance, <a class="code" href="group__SDL__TOG__IP__API.html#ga4e480d5a8442e2e25cf9d99e2b29aa2b">SDL_TOG_INTRSRC_ALL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="keywordflow">if</span> (status != SDL_PASS)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// interrupt enable failed</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Start the TOG</p>
<div class="fragment"><div class="line"><span class="comment">/* Call SDL API to enable Timeout Gasket */</span></div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#ga4d57415533ec33b1953bc4a7ec8d2a4b">SDL_TOG_start</a>(instance);</div>
<div class="line"><span class="keywordflow">if</span> (status != SDL_PASS)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// start failed</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Stop the TOG</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__SDL__STOG__API.html#ga1a322eab1d29d292f9e6251dca487d22">SDL_TOG_stop</a>(instance);</div>
</div><!-- fragment --><p>Reset the TOG</p>
<div class="fragment"><div class="line"><span class="comment">/* Reset the Timeout gasket */</span></div>
<div class="line"><a class="code" href="group__SDL__STOG__API.html#ga26f194a1f35736fd536a394ead806f6e">SDL_TOG_reset</a>( instance );</div>
</div><!-- fragment --><p>Get the Error Information (can be called when an error occurs)</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line"><a class="code" href="structSDL__TOG__errInfo.html">SDL_TOG_errInfo</a> errInfo;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Read error info */</span></div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#ga2b69395279a122023ad0aa802b020cec">SDL_TOG_getErrInfo</a>(instance, &amp;errInfo)</div>
</div><!-- fragment --><p>Acknowledge the interrupts for an interrupt source</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line">uint32_t intCount;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Get Transaction timeout interrupt count */</span></div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#gae4fa14e609f53c1eda392e6d799ea4cd">SDL_TOG_getIntrCount</a>(instance, <a class="code" href="group__SDL__TOG__IP__API.html#ga23876c31334febdfb7d0db01fb8d40ed">SDL_TOG_INTRSRC_TRANSACTION_TIMEOUT</a>, &amp;intCount);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Clear Transaction timeout interrupt events */</span></div>
<div class="line"><span class="keywordflow">if</span> ((status == SDL_PASS) &amp;&amp; (intCount != 0))</div>
<div class="line">{</div>
<div class="line">    status = <a class="code" href="group__SDL__STOG__API.html#ga3d0a9a1bd7b6734d6c4cac47df966962">SDL_TOG_ackIntr</a>(instance, <a class="code" href="group__SDL__TOG__IP__API.html#ga23876c31334febdfb7d0db01fb8d40ed">SDL_TOG_INTRSRC_TRANSACTION_TIMEOUT</a>, intCount);</div>
<div class="line">    TEST_ASSERT_EQUAL_INT32(SDL_PASS, status);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Clear the pending interrupts for an interrupt source</p>
<div class="fragment"><div class="line"><a class="code" href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a> instance;</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__SDL__STOG__API.html#gaebe110f9b9693e7078f962864eab482b">SDL_TOG_clrIntrPending</a>(instance, <a class="code" href="group__SDL__TOG__IP__API.html#ga23876c31334febdfb7d0db01fb8d40ed">SDL_TOG_INTRSRC_TRANSACTION_TIMEOUT</a>);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md517"></a>
API</h1>
<p><a class="el" href="group__SDL__STOG__API.html">Slave Timeout Gasket(STOG)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SDL__STOG__API_html_gae4fa14e609f53c1eda392e6d799ea4cd"><div class="ttname"><a href="group__SDL__STOG__API.html#gae4fa14e609f53c1eda392e6d799ea4cd">SDL_TOG_getIntrCount</a></div><div class="ttdeci">int32_t SDL_TOG_getIntrCount(SDL_TOG_Inst instance, SDL_TOG_IntrSrc intrSrc, uint32_t *pIntrCnt)</div><div class="ttdoc">Get interrupt count.</div></div>
<div class="ttc" id="asdlr__tog_8h_html"><div class="ttname"><a href="sdlr__tog_8h.html">sdlr_tog.h</a></div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga3d0a9a1bd7b6734d6c4cac47df966962"><div class="ttname"><a href="group__SDL__STOG__API.html#ga3d0a9a1bd7b6734d6c4cac47df966962">SDL_TOG_ackIntr</a></div><div class="ttdeci">int32_t SDL_TOG_ackIntr(SDL_TOG_Inst instance, SDL_TOG_IntrSrc intrSrc, uint32_t ackCnt)</div><div class="ttdoc">Ack interrupt source.</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_gaebe110f9b9693e7078f962864eab482b"><div class="ttname"><a href="group__SDL__STOG__API.html#gaebe110f9b9693e7078f962864eab482b">SDL_TOG_clrIntrPending</a></div><div class="ttdeci">int32_t SDL_TOG_clrIntrPending(SDL_TOG_Inst instance, SDL_TOG_IntrSrc intrSrc)</div><div class="ttdoc">Clear pending interrupt source(s)</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga2b69395279a122023ad0aa802b020cec"><div class="ttname"><a href="group__SDL__STOG__API.html#ga2b69395279a122023ad0aa802b020cec">SDL_TOG_getErrInfo</a></div><div class="ttdeci">int32_t SDL_TOG_getErrInfo(SDL_TOG_Inst instance, SDL_TOG_errInfo *pErrInfo)</div><div class="ttdoc">Get timeout error information.</div></div>
<div class="ttc" id="astructSDL__TOG__config_html"><div class="ttname"><a href="structSDL__TOG__config.html">SDL_TOG_config</a></div><div class="ttdoc">This structure contains TOG configuration information.</div><div class="ttdef"><b>Definition:</b> sdl_tog.h:159</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga26f194a1f35736fd536a394ead806f6e"><div class="ttname"><a href="group__SDL__STOG__API.html#ga26f194a1f35736fd536a394ead806f6e">SDL_TOG_reset</a></div><div class="ttdeci">int32_t SDL_TOG_reset(SDL_TOG_Inst instance)</div><div class="ttdoc">Reset the timeout functionality.</div></div>
<div class="ttc" id="astructSDL__TOG__config_html_a15633cad0bd031782999808989113a17"><div class="ttname"><a href="structSDL__TOG__config.html#a15633cad0bd031782999808989113a17">SDL_TOG_config::timeoutVal</a></div><div class="ttdeci">uint32_t timeoutVal</div><div class="ttdef"><b>Definition:</b> sdl_tog.h:161</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_gad6bf3502b3b7a30d45c7f5ea8e97751c"><div class="ttname"><a href="group__SDL__STOG__API.html#gad6bf3502b3b7a30d45c7f5ea8e97751c">SDL_TOG_setIntrEnable</a></div><div class="ttdeci">int32_t SDL_TOG_setIntrEnable(SDL_TOG_Inst instance, SDL_TOG_IntrSrc intrSrcs, bool enable)</div><div class="ttdoc">Enable/disable interrupt source(s)</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga1a322eab1d29d292f9e6251dca487d22"><div class="ttname"><a href="group__SDL__STOG__API.html#ga1a322eab1d29d292f9e6251dca487d22">SDL_TOG_stop</a></div><div class="ttdeci">int32_t SDL_TOG_stop(SDL_TOG_Inst instance)</div><div class="ttdoc">Stop the timer counter.</div></div>
<div class="ttc" id="agroup__SDL__TOG__IP__API_html_ga23876c31334febdfb7d0db01fb8d40ed"><div class="ttname"><a href="group__SDL__TOG__IP__API.html#ga23876c31334febdfb7d0db01fb8d40ed">SDL_TOG_INTRSRC_TRANSACTION_TIMEOUT</a></div><div class="ttdeci">#define SDL_TOG_INTRSRC_TRANSACTION_TIMEOUT</div><div class="ttdef"><b>Definition:</b> sdl_ip_tog.h:110</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga3bbb563689b65df2d086f2afbcadd629"><div class="ttname"><a href="group__SDL__STOG__API.html#ga3bbb563689b65df2d086f2afbcadd629">SDL_TOG_init</a></div><div class="ttdeci">int32_t SDL_TOG_init(SDL_TOG_Inst instance, const SDL_TOG_config *pConfig)</div><div class="ttdoc">Initialize TOG module with respect of instance.</div></div>
<div class="ttc" id="astructSDL__TOG__errInfo_html"><div class="ttname"><a href="structSDL__TOG__errInfo.html">SDL_TOG_errInfo</a></div><div class="ttdoc">This structure contains timeout error information.</div><div class="ttdef"><b>Definition:</b> sdl_tog.h:127</div></div>
<div class="ttc" id="agroup__SDL__STOG__API_html_ga4d57415533ec33b1953bc4a7ec8d2a4b"><div class="ttname"><a href="group__SDL__STOG__API.html#ga4d57415533ec33b1953bc4a7ec8d2a4b">SDL_TOG_start</a></div><div class="ttdeci">int32_t SDL_TOG_start(SDL_TOG_Inst instance)</div><div class="ttdoc">Start the timer counter.</div></div>
<div class="ttc" id="agroup__SDL__STOG__ENUM_html_gab2e057748f6aab6fbae301c0d2530e9c"><div class="ttname"><a href="group__SDL__STOG__ENUM.html#gab2e057748f6aab6fbae301c0d2530e9c">SDL_TOG_Inst</a></div><div class="ttdeci">uint8_t SDL_TOG_Inst</div><div class="ttdef"><b>Definition:</b> sdl_soc_tog.h:61</div></div>
<div class="ttc" id="agroup__SDL__TOG__IP__API_html_ga4e480d5a8442e2e25cf9d99e2b29aa2b"><div class="ttname"><a href="group__SDL__TOG__IP__API.html#ga4e480d5a8442e2e25cf9d99e2b29aa2b">SDL_TOG_INTRSRC_ALL</a></div><div class="ttdeci">#define SDL_TOG_INTRSRC_ALL</div><div class="ttdef"><b>Definition:</b> sdl_ip_tog.h:116</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
